## menu.updateDish: Изменение свойств тех. карты

> Пример запроса на редактирование техкарты:

```php
<?php
$url = 'https://joinposter.com/api/menu.updateDish'
 . '?token=687409:4164553abf6a031302898da7800b59fb';

$dish = [
    'dish_id'                => 171,
    'product_name'           => 'Гамбургер с телятиной',
    'barcode'                => 159687,
    'menu_category_id'       => 10,
    'different_spots_prices' => 1,
    'workshop'               => 2,
    'weight_flag'            => 0,
    'product_color'          => 'red',
    'nodiscount'             => 0,
    'ingredient'             => [
        [
            'id'     => 815,
            'type'   => 1,
            'brutto' => 3,
            'netto'  => 6,
            'lock'   => 1,
            'clear'  => 1,
        ]
    ],
    'price' => [
        1 => 55,
        2 => 57,
    ],
    'visible' => [
        1 => 1,
        2 => 0,
    ],
    'modificationgroup'      => [
        [
            'type'          => 1,
            'minNum'        => 1,
            'maxNum'        => 1,
            'name'          => 'Картофель',
            'modifications' => [
                [
                    'ingredientId' => 814,
                    'type'         => 1,
                    'name'         => 'Вареный картофель',
                    'brutto'       => 200,
                    'price'        => 230,
                ],
                [
                    'ingredientId' => 816,
                    'type'         => 1,
                    'name'         => 'Фри',
                    'brutto'       => 150,
                    'price'        => 280,
                ],
            ],
        ]
    ],
];

$data = sendRequest($url, 'post', $dish);
```

> Пример ответа:

```json
{
  "response":61
}
```

Метод изменяет свойства тех. карты

!>     Нельзя создавать тех. карту с модификациями если она:    
  - весовая, weight_flag — 1
  - учавствует в акциях или находится в категории которая учавствует в акции
  - является элементом тех. карты с модификацией
  — учавствует в списаниях или производствах

### HTTP запрос

`POST https://joinposter.com/api/menu.updateDish`

### POST-параметры запроса menu.updateDish

Параметр | Описание
-------- | --------
dish_id | Id тех. карты
product_name | Название тех. карты
barcode | Штриховой код тех. карты
menu_category_id | Id категории тех. карты
workshop_id | Id цеха
product_color | Цвет карточки тех. карты: white, red, orange, yellow, green, blue, navy-blue, purple, black, mint-blue, lime-green, pink
weight_flag | Признак, что тех. карта весовая: 0 — не весовая, 1 — весовая. Если в тех. карте присутсвует штучный ингредиент, то она не может быть весовой.
nodiscount | Признак, что тех. карта  принимает участие в скидках: 0 — не принимает участие, 1 — принимает участие
price | Массив цен по разным заведениям. Ключ массива — id заведения. Можно указать price не массивом, тогда цена раскидается на все заведения.
visible | Массив видимости тех. карты по разным заведениям. Ключ массива — id заведения. Можно указать visible не массивом, тогда видимость раскидается на все заведения.
ingredient | Массив ингредиентов и полуфабрикатов входящих в состав тех. карты
modificationgroup | Массив групп модификаторов

Внутри параметра `ingredient` лежит объект, внутри которого есть следующие параметры:

Параметр | Описание
-------- | --------
id | id полуфабриката или ингредиента 
type | Тип ингредиента: 1 — ингредиент, 2 — полуфабрикат
brutto | Брутто
netto | Нетто
bake | Признак, используется ли метод приготоволения «варка»: 0 — нет, 1 — да. По умолчанию передаётся 0.
cook | Признак, используется ли метод приготоволения «запекание»: 0 — нет, 1 — да. По умолчанию передаётся 0.
clear | Признак, используется ли метод приготоволения «очистка»: 0 — нет, 1 — да. По умолчанию передаётся 0.
fry | Признак, используется ли метод приготоволения «жарка»: 0 — нет, 1 — да. По умолчанию передаётся 0.
stew | Признак, используется ли метод приготоволения «тушение»: 0 — нет, 1 — да. По умолчанию передаётся 0.
lock | Тип зависимости нетто от брутто: 0 — ручная, 1 — автоматическая

Внутри параметра `modificationgroup` лежит объект, внутри которого есть следующие параметры:

Параметр | Описание
-------- | --------
dish_modification_group_id | Id группы которую редактируем. Все группы модификаций продукта, которые не прийдут в запросе, будут удалены.
type | Тип: 1 — из нескольких, 2 — несколько из нескольких
minNum | Минимальное количество модификаторов, которые нужно выбрать
maxNum | Максимальное количество модификаторов, которые нужно выбрать
name | Имя группы модификаторов
modifications | Массив модификаторов

Внутри параметра `modifications` лежит объект, внутри которого есть следующие параметры:

Параметр | Описание
-------- | --------
dish_modification_id | Id модификации которую редактируем. Все модификации продукта, которые не прийдут в запросе, будут удалены.
ingredientId | Id ингредиента, тех. карты или полуфабриката
type | Тип: 1 — ингредиент, 2 — тех. карта или полуфабрикат
name | Название модификатора
brutto | Вес, количество или литры модификатора
price | Дельта добавляемой цены к продукту при добавлении модификации. Может быть нулевой.

### Параметры ответа menu.updateDish

Параметр | Описание
-------- | --------
response | Id изменённой тех. карты
